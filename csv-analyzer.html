<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analyseur CSV</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.5.0/math.min.js"></script>
</head>
<body class="flex flex-col items-center justify-center min-h-screen bg-gray-100">
    <h1 class="text-3xl font-bold mt-8">Analyseur CSV</h1>
    <div id="drop-area" class="border-2 border-dashed border-gray-400 rounded-lg w-4/5 max-w-xl p-8 text-center bg-white mt-8">
        <form class="my-form">
            <p>Faites glisser et déposez un fichier CSV ici ou cliquez pour sélectionner un fichier</p>
            <input type="file" id="fileElem" accept=".csv" onchange="gererFichiers(this.files)" class="hidden">
        </form>
    </div>
    <div id="file-upload-instructions" class="w-4/5 max-w-xl p-4 bg-blue-100 rounded-lg mt-4">
        <h2 class="text-xl font-semibold">Instructions de Téléchargement de Fichier</h2>
        <p class="mt-2">Veuillez télécharger un fichier CSV avec les colonnes suivantes: NOM PIECE, LIBELLE PIECE, GROUPE, ISO, L, P, H1, H2, LIBELLE MATIERE, POIDS, CUBAGE, Quantité, Commentaire Perspective, ARTICLE CATA, QTE ARTICLE CATA, ARTICLE ASSOC, QTE ARTICLE ASSOC, Splittage, FINITION.</p>
    </div>
    <table id="csv-table" class="w-4/5 max-w-xl border-collapse mt-8 bg-white">
        <thead>
            <tr>
                <th class="border border-gray-300 p-2 bg-gray-200">NOM PIECE</th>
                <th class="border border-gray-300 p-2 bg-gray-200">LIBELLE PIECE</th>
                <th class="border border-gray-300 p-2 bg-gray-200">GROUPE</th>
                <th class="border border-gray-300 p-2 bg-gray-200">ISO</th>
                <th class="border border-gray-300 p-2 bg-gray-200">L</th>
                <th class="border border-gray-300 p-2 bg-gray-200">P</th>
                <th class="border border-gray-300 p-2 bg-gray-200">H1</th>
                <th class="border border-gray-300 p-2 bg-gray-200">H2</th>
                <th class="border border-gray-300 p-2 bg-gray-200">LIBELLE MATIERE</th>
                <th class="border border-gray-300 p-2 bg-gray-200">POIDS</th>
                <th class="border border-gray-300 p-2 bg-gray-200">CUBAGE</th>
                <th class="border border-gray-300 p-2 bg-gray-200">Quantité</th>
                <th class="border border-gray-300 p-2 bg-gray-200">Commentaire Perspective</th>
                <th class="border border-gray-300 p-2 bg-gray-200">ARTICLE CATA</th>
                <th class="border border-gray-300 p-2 bg-gray-200">QTE ARTICLE CATA</th>
                <th class="border border-gray-300 p-2 bg-gray-200">ARTICLE ASSOC</th>
                <th class="border border-gray-300 p-2 bg-gray-200">QTE ARTICLE ASSOC</th>
                <th class="border border-gray-300 p-2 bg-gray-200">Splittage</th>
                <th class="border border-gray-300 p-2 bg-gray-200">FINITION</th>
                <th class="border border-gray-300 p-2 bg-gray-200">Catégorie</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    <div id="sums" class="mt-8 text-center">
        <h2 class="text-2xl font-semibold mb-4">Sommes Calculées</h2>
        <p id="sum-cubage">Somme de CUBAGE: 0</p>
        <p id="sum-poids">Somme de POIDS: 0</p>
    </div>
    <div id="category-sums" class="mt-8 text-center">
        <h2 class="text-2xl font-semibold mb-4">Sommes par Catégorie</h2>
        <div id="category-cubage"></div>
        <div id="category-poids"></div>
    </div>
    <script src="script.js"></script>
</body>
</html>
